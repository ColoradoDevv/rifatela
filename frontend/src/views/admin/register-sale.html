<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Panel de administración - Registrar venta de boleta">
  <meta name="theme-color" content="#0a0a1a">
  <title>Registrar Venta | Rifatela Admin</title>
  <link rel="stylesheet" href="../../css/styles.css">
  <link rel="stylesheet" href="../../css/header.css">
  <link rel="stylesheet" href="../../css/admin.css">
  <script src="../../js/main.js" type="module"></script>
</head>

<body>
  <!-- Decorative Background Effects -->
  <div class="bg-effects" aria-hidden="true"></div>
  <div class="confetti-particle" aria-hidden="true"></div>
  <div class="confetti-particle" aria-hidden="true"></div>
  <div class="confetti-particle" aria-hidden="true"></div>
  <div class="sparkle-star" aria-hidden="true"></div>
  <div class="sparkle-star" aria-hidden="true"></div>
  <div class="sparkle-star" aria-hidden="true"></div>

  <header class="header-container" role="banner"></header>

  <main class="admin-main" role="main">
    <div class="admin-container">
      <div class="admin-card">
        <div class="admin-card__header">
          <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 1rem;">
            <div>
              <h1 class="admin-card__title">Registrar Venta de Boleta</h1>
              <p class="admin-card__subtitle">Registra las ventas realizadas por WhatsApp</p>
            </div>
            <a href="#" id="admin-logout" class="admin-card__logout" style="font-size: 0.9rem; color: rgba(255,255,255,0.7); text-decoration: none; padding: 0.5rem 1rem; border: 1px solid rgba(255,255,255,0.3); border-radius: 8px;">Cerrar sesión</a>
          </div>
        </div>

        <form class="admin-form" id="register-sale-form" aria-label="Formulario de registro de venta">
          <!-- Selección de Rifa -->
          <div class="admin-form__group">
            <label for="raffle-select" class="admin-form__label">Seleccionar Rifa *</label>
            <select id="raffle-select" name="raffleId" class="admin-form__select" required>
              <option value="">Cargando rifas...</option>
            </select>
            <div id="raffle-info" class="admin-form__info" style="display: none;"></div>
          </div>

          <!-- Información del Cliente -->
          <div class="admin-form__section">
            <h3 class="admin-form__section-title">Información del Cliente</h3>
            
            <div class="admin-form__group">
              <label for="customer-name" class="admin-form__label">Nombre Completo *</label>
              <input 
                type="text" 
                id="customer-name" 
                name="name" 
                class="admin-form__input" 
                placeholder="Ej: Juan Pérez"
                required 
                autocomplete="name"
              >
            </div>

            <div class="admin-form__group">
              <label for="customer-email" class="admin-form__label">Correo Electrónico *</label>
              <input 
                type="email" 
                id="customer-email" 
                name="email" 
                class="admin-form__input" 
                placeholder="ejemplo@correo.com"
                required 
                autocomplete="email"
              >
            </div>

            <div class="admin-form__group">
              <label for="customer-phone" class="admin-form__label">Número de WhatsApp *</label>
              <input 
                type="tel" 
                id="customer-phone" 
                name="phone" 
                class="admin-form__input" 
                placeholder="Ej: +57 300 123 4567"
                required 
                autocomplete="tel"
              >
            </div>
          </div>

          <!-- Selección de Boleta -->
          <div class="admin-form__section">
            <h3 class="admin-form__section-title">Número de Boleta</h3>
            
            <div class="admin-form__group">
              <label for="ticket-number" class="admin-form__label">Número de Boleta Elegido *</label>
              <input 
                type="number" 
                id="ticket-number" 
                name="ticketNumber" 
                class="admin-form__input" 
                placeholder="Ej: 42"
                min="1"
                required
              >
              <p class="admin-form__help">El número específico que el cliente eligió</p>
            </div>

            <div id="ticket-status" class="admin-form__ticket-status"></div>
          </div>

          <!-- Información de Pago -->
          <div class="admin-form__section">
            <h3 class="admin-form__section-title">Información de Pago</h3>
            
            <div class="admin-form__group">
              <label class="admin-form__label">Precio</label>
              <div class="admin-form__price-display">
                <span class="admin-form__price-amount">$40,000</span>
                <span class="admin-form__price-currency">COP</span>
              </div>
            </div>

            <div class="admin-form__group">
              <label for="payment-method" class="admin-form__label">Método de Pago</label>
              <select id="payment-method" name="paymentMethod" class="admin-form__select">
                <option value="WhatsApp">WhatsApp</option>
                <option value="Nequi">Nequi</option>
                <option value="Daviplata">Daviplata</option>
                <option value="Bancolombia">Bancolombia</option>
                <option value="Efectivo">Efectivo</option>
                <option value="Otro">Otro</option>
              </select>
            </div>
          </div>

          <div id="form-error" class="admin-form__error" role="alert" aria-live="polite"></div>

          <button type="submit" class="admin-form__submit" id="submit-btn">
            <span class="admin-form__submit-text">Registrar Venta</span>
            <span class="admin-form__submit-loader" aria-hidden="true"></span>
          </button>
        </form>

        <!-- Resultado de Registro -->
        <div id="sale-result" class="admin-form__result" style="display: none;"></div>
      </div>
    </div>
  </main>

  <script src="../../js/admin/register-sale.js" type="module"></script>
</body>

</html>

